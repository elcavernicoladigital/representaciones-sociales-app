<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explorador Interactivo de Representaciones Sociales</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutral Harmony -->
    <!-- Application Structure Plan: A single-page application with a fixed sidebar navigation for thematic exploration. The structure guides the user from foundational concepts (What are SRs?), to their construction (Anchoring/Objectification), to the core thesis (The Integrated Model), and finally to practical application (Methodology). This thematic, non-linear structure is chosen to make a dense academic topic digestible and explorable, preventing user overwhelm and allowing direct access to specific concepts. Key interactions include clickable diagrams to reveal definitions and an interactive flowchart to explain the central model. -->
    <!-- Visualization & Content Choices: 
        - Report Info: SR Structure (Core/Periphery) -> Goal: Explain -> Viz: Interactive HTML/CSS Diagram -> Interaction: Click to show details -> Justification: Visually separates and defines the two key components, encouraging exploration.
        - Report Info: Construction Processes (Anchoring/Objectification) -> Goal: Compare & Explain -> Viz: Two-column layout with clickable cards -> Interaction: Click to reveal definitions & examples -> Justification: Facilitates direct comparison and breaks down sub-processes into manageable chunks.
        - Report Info: Integrated Model (Processes -> Attitudes -> Behavior) -> Goal: Visualize the core thesis -> Viz: HTML/CSS Flowchart + Chart.js Radar Chart -> Interaction: Hover over flowchart steps to get details -> Justification: Effectively shows the cyclical and interconnected nature of the model, which is the report's central argument. The radar chart is an ideal visualization for the tri-component model of attitudes.
        - Report Info: Methodology (Table 3) -> Goal: Organize & Present -> Viz: Interactive HTML/CSS Grid + Chart.js Donut Chart -> Interaction: Click grid cells for info -> Justification: Transforms a static table into a queryable, less dense interface. The donut chart gives a quick overview of the recommended research approaches.
        - Library/Method: Chart.js for all charts (Canvas), HTML/CSS/JS for diagrams and interactions. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        .nav-link.active {
            background-color: #d1fae5;
            color: #065f46;
        }

        .card-flip {
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .card-flipper:hover .card-flip {
            transform: rotateY(180deg);
        }

        .card-front,
        .card-back {
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }

        .card-back {
            transform: rotateY(180deg);
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #065f46;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            display: inline-block;
            vertical-align: middle;
            margin-left: 8px;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body class="bg-stone-50 text-stone-800">

    <div class="flex">
        <aside class="fixed top-0 left-0 h-screen w-64 bg-white shadow-md p-5 flex flex-col">
            <h1 class="text-xl font-bold text-teal-800 mb-8">Representaciones Sociales</h1>
            <nav id="main-nav" class="flex flex-col space-y-2">
                <a href="#inicio" data-target="inicio"
                    class="nav-link active px-4 py-2 rounded-lg hover:bg-stone-100 transition-colors duration-200">
                    <span class="mr-2">üè†</span> Inicio
                </a>
                <a href="#fundamentos" data-target="fundamentos"
                    class="nav-link px-4 py-2 rounded-lg hover:bg-stone-100 transition-colors duration-200">
                    <span class="mr-2">üèõÔ∏è</span> Fundamentos
                </a>
                <a href="#construccion" data-target="construccion"
                    class="nav-link px-4 py-2 rounded-lg hover:bg-stone-100 transition-colors duration-200">
                    <span class="mr-2">üèóÔ∏è</span> Procesos de Construcci√≥n
                </a>
                <a href="#modelo" data-target="modelo"
                    class="nav-link px-4 py-2 rounded-lg hover:bg-stone-100 transition-colors duration-200">
                    <span class="mr-2">üîÑ</span> El Modelo Integrador
                </a>
                <a href="#metodologia" data-target="metodologia"
                    class="nav-link px-4 py-2 rounded-lg hover:bg-stone-100 transition-colors duration-200">
                    <span class="mr-2">üî¨</span> Metodolog√≠a de Estudio
                </a>
                <a href="#conclusiones" data-target="conclusiones"
                    class="nav-link px-4 py-2 rounded-lg hover:bg-stone-100 transition-colors duration-200">
                    <span class="mr-2">üìú</span> Conclusiones
                </a>
            </nav>
            <div class="mt-auto text-xs text-stone-400">
                <p>Aplicaci√≥n interactiva basada en la metodolog√≠a de las Representaciones Sociales.</p>
            </div>
        </aside>

        <main class="ml-64 p-6 md:p-12 w-full">
            <div id="inicio" class="content-section active">
                <div class="bg-white p-8 rounded-xl shadow-sm animate-fade-in">
                    <h2 class="text-3xl font-bold text-teal-700 mb-4">Explorando el Pensamiento Colectivo</h2>
                    <p class="text-lg text-stone-600 mb-6">
                        Bienvenido a la gu√≠a interactiva sobre la Teor√≠a de las Representaciones Sociales (RS). Esta
                        aplicaci√≥n est√° dise√±ada para desglosar una de las teor√≠as m√°s influyentes de la psicolog√≠a
                        social de una manera clara y accesible. Las RS son los sistemas de conocimiento del sentido
                        com√∫n que utilizamos para entender nuestro mundo, guiar nuestras acciones y comunicarnos.
                    </p>
                    <div class="bg-teal-50 border-l-4 border-teal-500 text-teal-800 p-4 rounded-r-lg">
                        <p>Navegue por las secciones utilizando el men√∫ de la izquierda para explorar los conceptos
                            fundamentales, los procesos de construcci√≥n, el modelo integrador que conecta las RS con las
                            actitudes y la metodolog√≠a para su estudio. Cada secci√≥n contiene elementos interactivos
                            para facilitar el aprendizaje.</p>
                    </div>

                    <div class="mt-12 p-6 bg-stone-100 rounded-lg shadow-inner">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">Definidor de Fen√≥menos Sociales ‚ú®</h3>
                        <p class="text-stone-600 mb-4">Ingrese un fen√≥meno social (ej. "Inteligencia Artificial",
                            "Cambio Clim√°tico") y obtenga una definici√≥n concisa desde la perspectiva de las
                            Representaciones Sociales.</p>
                        <input type="text" id="define-phenomenon-input" placeholder="Escriba un fen√≥meno social aqu√≠..." class="w-full p-3 border border-stone-300 rounded-lg mb-4 focus:ring-2 focus:ring-teal-400 focus:border-transparent">
                        <button id="define-phenomenon-btn" class="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-md">
                            Definir Fen√≥meno ‚ú®
                        </button>
                        <div id="define-phenomenon-loading-indicator"
                            class="text-center text-blue-700 font-semibold mt-4 hidden">
                            Definiendo... <span class="spinner"></span>
                        </div>
                        <div id="llm-defined-phenomenon"
                            class="mt-6 p-4 bg-white border border-stone-200 rounded-lg min-h-[80px] text-stone-700 italic">
                            La definici√≥n del fen√≥meno aparecer√° aqu√≠.
                        </div>
                    </div>
                </div>
            </div>

            <div id="fundamentos" class="content-section">
                <div class="bg-white p-8 rounded-xl shadow-sm">
                    <h2 class="text-3xl font-bold text-teal-700 mb-2">Fundamentos: La Estructura de una Representaci√≥n
                        Social</h2>
                    <p class="text-stone-600 mb-8">Toda Representaci√≥n Social est√° organizada jer√°rquicamente en dos
                        componentes clave: un n√∫cleo central estable y elementos perif√©ricos flexibles. Esta estructura
                        dual le da tanto coherencia como capacidad de adaptaci√≥n. Haga clic en los componentes del
                        diagrama para saber m√°s.</p>
                    <div class="flex flex-col md:flex-row items-center justify-center gap-8">
                        <div class="w-full md:w-1/2 flex items-center justify-center p-4">
                            <div class="relative flex items-center justify-center">
                                <div id="diagram-core"
                                    class="w-48 h-48 bg-teal-600 rounded-full flex items-center justify-center text-white font-bold text-center cursor-pointer shadow-lg hover:scale-105 transition-transform">
                                    N√∫cleo Central</div>
                                <div class="absolute top-0 left-0 w-full h-full animate-spin-slow">
                                    <div id="diagram-periphery-1"
                                        class="absolute top-[-20px] left-[50%] ml-[-30px] w-28 h-28 bg-amber-400 rounded-full flex items-center justify-center text-sm text-center text-amber-900 cursor-pointer shadow-md hover:bg-amber-500 transition-colors">
                                        Elemento Perif√©rico</div>
                                    <div id="diagram-periphery-2"
                                        class="absolute bottom-[-20px] right-[-30px] w-24 h-24 bg-amber-400 rounded-full flex items-center justify-center text-sm text-center text-amber-900 cursor-pointer shadow-md hover:bg-amber-500 transition-colors">
                                        Adaptaci√≥n</div>
                                    <div id="diagram-periphery-3"
                                        class="absolute top-[50%] mt-[-30px] left-[-40px] w-20 h-20 bg-amber-400 rounded-full flex items-center justify-center text-sm text-center text-amber-900 cursor-pointer shadow-md hover:bg-amber-500 transition-colors">
                                        Contexto</div>
                                </div>
                            </div>
                        </div>
                        <div id="diagram-info" class="w-full md:w-1/2 bg-stone-100 p-6 rounded-lg min-h-[200px]">
                            <h3 id="info-title" class="font-bold text-xl text-teal-800 mb-2">Haga clic en un elemento
                            </h3>
                            <p id="info-text" class="text-stone-700">Seleccione un componente del diagrama para ver su
                                definici√≥n y funciones.</p>
                        </div>
                    </div>

                    <div class="mt-12 p-6 bg-stone-100 rounded-lg shadow-inner">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">Analizador de Fen√≥menos Sociales ‚ú®</h3>
                        <p class="text-stone-600 mb-4">Ingrese un fen√≥meno social (ej. "Inteligencia Artificial",
                            "Pandemia de COVID-19") y obtenga una sugerencia de sus posibles elementos centrales y
                            perif√©ricos en una Representaci√≥n Social.</p>
                        <input type="text" id="phenomenon-input" placeholder="Escriba un fen√≥meno social aqu√≠..." class="w-full p-3 border border-stone-300 rounded-lg mb-4 focus:ring-2 focus:ring-teal-400 focus:border-transparent">
                        <button id="analyze-phenomenon-btn" class="w-full bg-purple-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-purple-700 transition-colors duration-200 shadow-md">
                            Analizar Fen√≥meno ‚ú®
                        </button>
                        <div id="phenomenon-loading-indicator"
                            class="text-center text-purple-700 font-semibold mt-4 hidden">
                            Analizando... <span class="spinner"></span>
                        </div>
                        <div id="llm-analyzed-phenomenon"
                            class="mt-6 p-4 bg-white border border-stone-200 rounded-lg min-h-[80px] text-stone-700 italic">
                            El an√°lisis del fen√≥meno aparecer√° aqu√≠.
                        </div>
                    </div>

                    <div class="mt-12 p-6 bg-stone-100 rounded-lg shadow-inner">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">Generador de Conceptos Clave ‚ú®</h3>
                        <p class="text-stone-600 mb-4">Ingrese un fen√≥meno social y obtenga una lista de conceptos clave
                            relacionados desde la perspectiva de las Representaciones Sociales.</p>
                        <input type="text" id="key-concepts-phenomenon-input" placeholder="Escriba un fen√≥meno social aqu√≠..." class="w-full p-3 border border-stone-300 rounded-lg mb-4 focus:ring-2 focus:ring-teal-400 focus:border-transparent">
                        <button id="generate-key-concepts-btn" class="w-full bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700 transition-colors duration-200 shadow-md">
                            Generar Conceptos Clave ‚ú®
                        </button>
                        <div id="key-concepts-loading-indicator"
                            class="text-center text-indigo-700 font-semibold mt-4 hidden">
                            Generando conceptos... <span class="spinner"></span>
                        </div>
                        <div id="llm-generated-key-concepts"
                            class="mt-6 p-4 bg-white border border-stone-200 rounded-lg min-h-[80px] text-stone-700 italic">
                            Los conceptos clave aparecer√°n aqu√≠.
                        </div>
                    </div>
                </div>
            </div>

            <div id="construccion" class="content-section">
                <div class="bg-white p-8 rounded-xl shadow-sm">
                    <h2 class="text-3xl font-bold text-teal-700 mb-2">Procesos de Construcci√≥n: Anclaje y Objetivaci√≥n
                    </h2>
                    <p class="text-stone-600 mb-8">Las Representaciones Sociales se forman a trav√©s de dos procesos
                        interdependientes: la objetivaci√≥n transforma lo abstracto en concreto, mientras que el anclaje
                        integra lo nuevo en lo familiar. Explore las tarjetas para ver sus subprocesos y ejemplos.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="text-2xl font-semibold text-center mb-4 text-teal-800">Objetivaci√≥n</h3>
                            <div class="space-y-4">
                                <div class="card-flipper">
                                    <div class="card-flip relative w-full h-24">
                                        <div
                                            class="card-front absolute w-full h-full bg-teal-200 rounded-lg p-4 flex items-center justify-center cursor-pointer shadow">
                                            <p class="font-bold text-teal-900">Esquema Figurativo</p>
                                        </div>
                                        <div
                                            class="card-back absolute w-full h-full bg-teal-500 text-white rounded-lg p-4 flex items-center justify-center text-center text-sm">
                                            <p>Sintetiza informaci√≥n en una imagen o idea central. Ej: Un gr√°fico de
                                                virus para representar una pandemia.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-flipper">
                                    <div class="card-flip relative w-full h-24">
                                        <div
                                            class="card-front absolute w-full h-full bg-teal-200 rounded-lg p-4 flex items-center justify-center cursor-pointer shadow">
                                            <p class="font-bold text-teal-900">Personificaci√≥n</p>
                                        </div>
                                        <div
                                            class="card-back absolute w-full h-full bg-teal-500 text-white rounded-lg p-4 flex items-center justify-center text-center text-sm">
                                            <p>Vincula una idea a una persona. Ej: Al Gore como figura del cambio
                                                clim√°tico.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-2xl font-semibold text-center mb-4 text-amber-800">Anclaje</h3>
                            <div class="space-y-4">
                                <div class="card-flipper">
                                    <div class="card-flip relative w-full h-24">
                                        <div
                                            class="card-front absolute w-full h-full bg-amber-200 rounded-lg p-4 flex items-center justify-center cursor-pointer shadow">
                                            <p class="font-bold text-amber-900">Nominaci√≥n (Naming)</p>
                                        </div>
                                        <div
                                            class="card-back absolute w-full h-full bg-amber-500 text-white rounded-lg p-4 flex items-center justify-center text-center text-sm">
                                            <p>Dar un nombre a un fen√≥meno para hacerlo reconocible. Ej: Etiquetar un
                                                movimiento como "protesta".</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-flipper">
                                    <div class="card-flip relative w-full h-24">
                                        <div
                                            class="card-front absolute w-full h-full bg-amber-200 rounded-lg p-4 flex items-center justify-center cursor-pointer shadow">
                                            <p class="font-bold text-amber-900">Anclaje por Met√°foras</p>
                                        </div>
                                        <div
                                            class="card-back absolute w-full h-full bg-amber-500 text-white rounded-lg p-4 flex items-center justify-center text-center text-sm">
                                            <p>Usar met√°foras para entender algo complejo. Ej: La "guerra contra las
                                                drogas".</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-12 p-6 bg-stone-100 rounded-lg shadow-inner">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">Generador de Ejemplos ‚ú®</h3>
                        <p class="text-stone-600 mb-4">Ingrese un concepto (ej. "Inteligencia Artificial", "Cambio
                            Clim√°tico") y genere un ejemplo de c√≥mo podr√≠a ser anclado u objetivado en una
                            representaci√≥n social.</p>
                        <input type="text" id="concept-input" placeholder="Escriba un concepto aqu√≠..." class="w-full p-3 border border-stone-300 rounded-lg mb-4 focus:ring-2 focus:ring-teal-400 focus:border-transparent">
                        <div class="flex flex-col sm:flex-row gap-4 mb-4">
                            <button id="generate-anchoring-btn" class="flex-1 bg-amber-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-amber-700 transition-colors duration-200 shadow-md">
                                Generar Ejemplo de Anclaje ‚ú®
                            </button>
                            <button id="generate-objectification-btn" class="flex-1 bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700 transition-colors duration-200 shadow-md">
                                Generar Ejemplo de Objetivaci√≥n ‚ú®
                            </button>
                        </div>
                        <div id="llm-loading-indicator" class="text-center text-teal-700 font-semibold mt-4 hidden">
                            Generando ejemplo... <span class="spinner"></span>
                        </div>
                        <div id="llm-generated-example"
                            class="mt-6 p-4 bg-white border border-stone-200 rounded-lg min-h-[80px] text-stone-700 italic">
                            El ejemplo generado aparecer√° aqu√≠.
                        </div>
                    </div>

                    <div class="mt-12 p-6 bg-stone-100 rounded-lg shadow-inner">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">Identificador de Representaciones en Discurso
                            ‚ú®</h3>
                        <p class="text-stone-600 mb-4">Pegue un texto o discurso y la aplicaci√≥n intentar√° identificar
                            posibles Representaciones Sociales presentes, explicando c√≥mo se manifiestan.</p>
                        <textarea id="discourse-input" placeholder="Pegue su texto o discurso aqu√≠..." class="w-full p-3 border border-stone-300 rounded-lg mb-4 h-32 focus:ring-2 focus:ring-teal-400 focus:border-transparent"></textarea>
                        <button id="identify-representations-btn" class="w-full bg-cyan-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-cyan-700 transition-colors duration-200 shadow-md">
                            Identificar Representaciones ‚ú®
                        </button>
                        <div id="discourse-loading-indicator"
                            class="text-center text-cyan-700 font-semibold mt-4 hidden">
                            Analizando discurso... <span class="spinner"></span>
                        </div>
                        <div id="llm-identified-representations"
                            class="mt-6 p-4 bg-white border border-stone-200 rounded-lg min-h-[80px] text-stone-700 italic">
                            Las representaciones identificadas aparecer√°n aqu√≠.
                        </div>
                    </div>
                </div>
            </div>

            <div id="modelo" class="content-section">
                <div class="bg-white p-8 rounded-xl shadow-sm">
                    <h2 class="text-3xl font-bold text-teal-700 mb-2">El Modelo Integrador</h2>
                    <p class="text-stone-600 mb-8">Este es el coraz√≥n del modelo: un ciclo din√°mico que muestra c√≥mo los
                        procesos de anclaje y objetivaci√≥n forman las Representaciones Sociales, que a su vez se
                        manifiestan en actitudes (cognitivas, afectivas y conductuales) y gu√≠an nuestras acciones,
                        creando un bucle de retroalimentaci√≥n. Pase el cursor sobre cada paso del diagrama para ver los
                        detalles.</p>
                    <div class="flex flex-col lg:flex-row gap-6 items-start">
                        <div class="w-full lg:w-3/5 space-y-2">
                            <div class="flow-step p-4 border-2 border-stone-300 rounded-lg cursor-default"
                                data-info="Todo comienza con un fen√≥meno social nuevo, desconocido o abstracto que un grupo necesita comprender e integrar en su realidad.">
                                <strong>1. Fen√≥meno Social</strong>
                                <span class="text-sm text-stone-500">(Ej: una nueva tecnolog√≠a, una crisis sanitaria)</span>
                            </div>
                            <div class="flex justify-center">
                                <div class="h-6 w-1 bg-stone-300"></div>
                            </div>
                            <div class="flow-step p-4 border-2 border-teal-400 rounded-lg bg-teal-50 cursor-default"
                                data-info="El grupo utiliza la <strong>Objetivaci√≥n</strong> (para hacerlo concreto) y el <strong>Anclaje</strong> (para hacerlo familiar). Estos procesos dan forma al contenido y a la estructura de la representaci√≥n.">
                                <strong>2. Procesos de Construcci√≥n</strong>
                                <span class="text-sm text-teal-600">(Anclaje y Objetivaci√≥n)</span>
                            </div>
                            <div class="flex justify-center">
                                <div class="h-6 w-1 bg-stone-300"></div>
                            </div>
                            <div class="flow-step p-4 border-2 border-amber-400 rounded-lg bg-amber-50 cursor-default"
                                data-info="La Representaci√≥n Social emerge y se manifiesta como una <strong>Actitud</strong> colectiva. Esta actitud tiene tres componentes: <strong>Cognitivo</strong> (lo que creemos saber), <strong>Afectivo</strong> (lo que sentimos al respecto) y <strong>Conductual</strong> (nuestra predisposici√≥n a actuar).">
                                <strong>3. Manifestaci√≥n en Actitudes</strong>
                                <span class="text-sm text-amber-600">(Cognitivo, Afectivo, Conductual)</span>
                            </div>
                            <div class="flex justify-center">
                                <div class="h-6 w-1 bg-stone-300"></div>
                            </div>
                            <div class="flow-step p-4 border-2 border-stone-300 rounded-lg cursor-default"
                                data-info="Las actitudes, guiadas por la RS, se traducen en <strong>Pr√°cticas Sociales</strong> y comportamientos observables por parte de los individuos y el grupo.">
                                <strong>4. Pr√°cticas Sociales</strong>
                                <span class="text-sm text-stone-500">(Acciones y comportamientos)</span>
                            </div>
                            <div class="flex justify-center">
                                <div
                                    class="h-6 w-1 bg-stone-300 rotate-90 translate-x-[-50%] translate-y-[-50%] scale-x-200 relative left-[-50%]">
                                </div>
                            </div>
                            <div class="flow-step p-3 border-2 border-dashed border-stone-400 rounded-lg text-center cursor-default"
                                data-info="Las consecuencias y experiencias de estas pr√°cticas refuerzan o modifican la Representaci√≥n Social original, cerrando el ciclo y permitiendo su evoluci√≥n constante.">
                                <strong>Bucle de Retroalimentaci√≥n</strong>
                            </div>
                        </div>
                        <div id="flow-info-panel" class="w-full lg:w-2/5 p-6 bg-stone-100 rounded-lg sticky top-12">
                            <h4 class="font-bold text-lg text-teal-800 mb-2">Detalles del Modelo</h4>
                            <p id="flow-info-text" class="text-stone-700">Pase el cursor sobre un paso del diagrama a la
                                izquierda para ver su explicaci√≥n detallada aqu√≠.</p>
                            <div class="chart-container mt-4 mx-auto" style="height: 250px; max-height: 250px;">
                                <canvas id="attitudeChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="mt-12 p-6 bg-stone-100 rounded-lg shadow-inner">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">Analizador de Actitudes ‚ú®</h3>
                        <p class="text-stone-600 mb-4">Ingrese un fen√≥meno social y obtenga una descripci√≥n de c√≥mo los
                            componentes cognitivo, afectivo y conductual de la actitud podr√≠an manifestarse en relaci√≥n
                            con √©l.</p>
                        <input type="text" id="attitude-phenomenon-input" placeholder="Ej: 'Vacunaci√≥n', 'Redes Sociales'" class="w-full p-3 border border-stone-300 rounded-lg mb-4 focus:ring-2 focus:ring-teal-400 focus:border-transparent">
                        <button id="analyze-attitude-btn" class="w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-200 shadow-md">
                            Analizar Actitud ‚ú®
                        </button>
                        <div id="attitude-loading-indicator"
                            class="text-center text-green-700 font-semibold mt-4 hidden">
                            Analizando actitud... <span class="spinner"></span>
                        </div>
                        <div id="llm-analyzed-attitude"
                            class="mt-6 p-4 bg-white border border-stone-200 rounded-lg min-h-[80px] text-stone-700 italic">
                            El an√°lisis de la actitud aparecer√° aqu√≠.
                        </div>
                    </div>

                    <div class="mt-12 p-6 bg-stone-100 rounded-lg shadow-inner">
                        <h3 class="2xl font-bold text-teal-700 mb-4">Sugerir Intervenciones ‚ú®</h3>
                        <p class="text-stone-600 mb-4">Ingrese una representaci√≥n social o un fen√≥meno social y obtenga
                            sugerencias de intervenciones o aplicaciones pr√°cticas basadas en c√≥mo esta representaci√≥n
                            podr√≠a influir en actitudes y comportamientos.</p>
                        <textarea id="intervention-input" placeholder="Ej: 'Representaci√≥n social de la salud mental como debilidad'" class="w-full p-3 border border-stone-300 rounded-lg mb-4 h-24 focus:ring-2 focus:ring-teal-400 focus:border-transparent"></textarea>
                        <button id="suggest-intervention-btn" class="w-full bg-orange-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-orange-700 transition-colors duration-200 shadow-md">
                            Sugerir Intervenciones ‚ú®
                        </button>
                        <div id="intervention-loading-indicator"
                            class="text-center text-orange-700 font-semibold mt-4 hidden">
                            Generando sugerencias... <span class="spinner"></span>
                        </div>
                        <div id="llm-intervention-suggestions"
                            class="mt-6 p-4 bg-white border border-stone-200 rounded-lg min-h-[80px] text-stone-700 italic">
                            Las sugerencias de intervenci√≥n aparecer√°n aqu√≠.
                        </div>
                    </div>

                    <div class="mt-12 p-6 bg-stone-100 rounded-lg shadow-inner">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">Generador de Escenarios Sociales ‚ú®</h3>
                        <p class="text-stone-600 mb-4">Ingrese un fen√≥meno social y obtenga un breve escenario donde su
                            representaci√≥n social podr√≠a manifestarse.</p>
                        <input type="text" id="scenario-phenomenon-input" placeholder="Ej: 'Inteligencia Artificial', 'Cambio Clim√°tico'" class="w-full p-3 border border-stone-300 rounded-lg mb-4 focus:ring-2 focus:ring-teal-400 focus:border-transparent">
                        <button id="generate-scenario-btn" class="w-full bg-purple-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-purple-700 transition-colors duration-200 shadow-md">
                            Generar Escenario ‚ú®
                        </button>
                        <div id="scenario-loading-indicator"
                            class="text-center text-purple-700 font-semibold mt-4 hidden">
                            Generando escenario... <span class="spinner"></span>
                        </div>
                        <div id="llm-generated-scenario"
                            class="mt-6 p-4 bg-white border border-stone-200 rounded-lg min-h-[80px] text-stone-700 italic">
                            El escenario generado aparecer√° aqu√≠.
                        </div>
                    </div>
                </div>
            </div>

            <div id="metodologia" class="content-section">
                <div class="bg-white p-8 rounded-xl shadow-sm">
                    <h2 class="text-3xl font-bold text-teal-700 mb-2">Metodolog√≠a de Estudio</h2>
                    <p class="text-stone-600 mb-8">El estudio de las RS exige un enfoque pluralista que combine m√©todos
                        cualitativos y cuantitativos (triangulaci√≥n). La siguiente tabla interactiva resume las t√©cnicas
                        de recolecci√≥n y an√°lisis recomendadas para cada dimensi√≥n de una RS. Haga clic en una celda
                        para obtener m√°s informaci√≥n.</p>
                    <div class="grid grid-cols-1 md:grid-cols-5 text-center font-bold bg-stone-200 p-2 rounded-t-lg">
                        <div class="p-2">Dimensi√≥n</div>
                        <div class="p-2 col-span-2">T√©cnicas de Recolecci√≥n</div>
                        <div class="p-2 col-span-2">T√©cnicas de An√°lisis</div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-5 text-center border border-stone-200 rounded-b-lg">
                        <div class="font-semibold bg-stone-100 p-3 flex items-center justify-center">N√∫cleo Central
                        </div>
                        <div class="p-3 border-l col-span-2">Asociaci√≥n libre, Entrevistas, Mapas conceptuales</div>
                        <div class="p-3 border-l col-span-2">An√°lisis estructural, An√°lisis lexicom√©trico</div>

                        <div class="font-semibold bg-stone-100 p-3 border-t flex items-center justify-center">
                            Componentes Actitudinales</div>
                        <div class="p-3 border-l border-t col-span-2">Cuestionarios (Escalas Likert), Entrevistas</div>
                        <div class="p-3 border-l border-t col-span-2">An√°lisis factorial, An√°lisis de regresi√≥n</div>

                        <div class="font-semibold bg-stone-100 p-3 border-t flex items-center justify-center">Pr√°cticas
                            Sociales</div>
                        <div class="p-3 border-l border-t col-span-2">Observaci√≥n participante, An√°lisis de documentos
                        </div>
                        <div class="p-3 border-l border-t col-span-2">An√°lisis del discurso, An√°lisis tem√°tico</div>
                    </div>
                    <div class="mt-8">
                        <h3 class="text-2xl font-semibold text-center mb-4 text-teal-800">Enfoque Metodol√≥gico</h3>
                        <div class="chart-container" style="height: 300px; max-height: 300px;">
                            <canvas id="methodologyChart"></canvas>
                        </div>
                    </div>

                    <div class="mt-12 p-6 bg-stone-100 rounded-lg shadow-inner">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">Sugerencias Metodol√≥gicas ‚ú®</h3>
                        <p class="text-stone-600 mb-4">Ingrese una pregunta de investigaci√≥n y obtenga sugerencias de
                            metodolog√≠as y t√©cnicas para estudiar Representaciones Sociales.</p>
                        <textarea id="research-question-input" placeholder="Ej: ¬øC√≥mo perciben los j√≥venes el cambio clim√°tico en zonas rurales?" class="w-full p-3 border border-stone-300 rounded-lg mb-4 h-24 focus:ring-2 focus:ring-teal-400 focus:border-transparent"></textarea>
                        <button id="suggest-methodology-btn" class="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-md">
                            Sugerir Metodolog√≠a ‚ú®
                        </button>
                        <div id="methodology-loading-indicator"
                            class="text-center text-blue-700 font-semibold mt-4 hidden">
                            Generando sugerencias... <span class="spinner"></span>
                        </div>
                        <div id="llm-suggested-methodology"
                            class="mt-6 p-4 bg-white border border-stone-200 rounded-lg min-h-[80px] text-stone-700 italic">
                            Las sugerencias de metodolog√≠a aparecer√°n aqu√≠.
                        </div>
                    </div>

                    <div class="mt-12 p-6 bg-stone-100 rounded-lg shadow-inner">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">Generador de Preguntas de Investigaci√≥n ‚ú®</h3>
                        <p class="text-stone-600 mb-4">Ingrese un fen√≥meno social y obtenga sugerencias de preguntas de
                            investigaci√≥n en el marco de las Representaciones Sociales.</p>
                        <input type="text" id="research-question-phenomenon-input" placeholder="Escriba un fen√≥meno social aqu√≠..." class="w-full p-3 border border-stone-300 rounded-lg mb-4 focus:ring-2 focus:ring-teal-400 focus:border-transparent">
                        <button id="generate-research-questions-btn" class="w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-200 shadow-md">
                            Generar Preguntas ‚ú®
                        </button>
                        <div id="research-questions-loading-indicator"
                            class="text-center text-green-700 font-semibold mt-4 hidden">
                            Generando preguntas... <span class="spinner"></span>
                        </div>
                        <div id="llm-generated-research-questions"
                            class="mt-6 p-4 bg-white border border-stone-200 rounded-lg min-h-[80px] text-stone-700 italic">
                            Las preguntas de investigaci√≥n aparecer√°n aqu√≠.
                        </div>
                    </div>
                </div>
            </div>

            <div id="conclusiones" class="content-section">
                <div class="bg-white p-8 rounded-xl shadow-sm">
                    <h2 class="text-3xl font-bold text-teal-700 mb-4">Conclusiones e Implicaciones</h2>
                    <div class="space-y-4 text-stone-700">
                        <p>Las Representaciones Sociales son constructos din√°micos que dan forma a nuestra realidad. El
                            modelo integrador propuesto demuestra c√≥mo los procesos de <strong>anclaje</strong> y
                            <strong>objetivaci√≥n</strong> se entrelazan con los componentes
                            <strong>cognitivo, afectivo y conductual</strong> de las actitudes, creando un ciclo
                            continuo que va desde el pensamiento colectivo hasta la acci√≥n social y viceversa.</p>
                        <div class="bg-teal-50 border-l-4 border-teal-500 p-4 rounded-r-lg">
                            <h4 class="font-bold text-teal-800">Implicaciones para el Futuro:</h4>
                            <ul class="list-disc list-inside mt-2 space-y-1">
                                <li>La investigaci√≥n debe enfocarse en la interacci√≥n din√°mica entre el n√∫cleo y la
                                    periferia de las RS.</li>
                                <li>Es crucial analizar el papel de los medios digitales en la aceleraci√≥n de los
                                    procesos de anclaje y objetivaci√≥n.</li>
                                <li>Las intervenciones para el cambio social pueden ser m√°s efectivas si se dirigen a
                                    los componentes actitudinales o a los procesos de construcci√≥n de las RS.</li>
                            </ul>
                        </div>
                        <p>El principal desaf√≠o sigue siendo operacionalizar y medir estos procesos sutiles. Se requiere
                            una innovaci√≥n metodol√≥gica constante y una rigurosa triangulaci√≥n de enfoques cualitativos
                            y cuantitativos para capturar la rica complejidad del pensamiento social.</p>
                    </div>
                    <div class="mt-12 p-6 bg-stone-100 rounded-lg shadow-inner">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">Generador de Res√∫menes de Implicaciones ‚ú®</h3>
                        <p class="text-stone-600 mb-4">Ingrese un texto (ej. un extracto de investigaci√≥n, un art√≠culo)
                            y obtenga un resumen de sus implicaciones desde la perspectiva de las Representaciones
                            Sociales.</p>
                        <textarea id="implications-text-input" placeholder="Pegue su texto aqu√≠..." class="w-full p-3 border border-stone-300 rounded-lg mb-4 h-32 focus:ring-2 focus:ring-teal-400 focus:border-transparent"></textarea>
                        <button id="summarize-implications-btn" class="w-full bg-orange-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-orange-700 transition-colors duration-200 shadow-md">
                            Resumir Implicaciones ‚ú®
                        </button>
                        <div id="implications-loading-indicator"
                            class="text-center text-orange-700 font-semibold mt-4 hidden">
                            Generando resumen... <span class="spinner"></span>
                        </div>
                        <div id="llm-implications-summary"
                            class="mt-6 p-4 bg-white border border-stone-200 rounded-lg min-h-[80px] text-stone-700 italic">
                            El resumen de las implicaciones aparecer√° aqu√≠.
                        </div>
                    </div>

                    <div class="mt-12 p-6 bg-stone-100 rounded-lg shadow-inner">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">An√°lisis Comparativo de Fen√≥menos Sociales ‚ú®
                        </h3>
                        <p class="text-stone-600 mb-4">Compare dos fen√≥menos sociales para entender c√≥mo sus
                            representaciones sociales podr√≠an interactuar o diferenciarse.</p>
                        <input type="text" id="phenomenon1-input" placeholder="Primer fen√≥meno (Ej: 'Inteligencia Artificial')" class="w-full p-3 border border-stone-300 rounded-lg mb-4 focus:ring-2 focus:ring-teal-400 focus:border-transparent">
                        <input type="text" id="phenomenon2-input" placeholder="Segundo fen√≥meno (Ej: 'Automatizaci√≥n Laboral')" class="w-full p-3 border border-stone-300 rounded-lg mb-4 focus:ring-2 focus:ring-teal-400 focus:border-transparent">
                        <button id="compare-phenomena-btn" class="w-full bg-pink-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-pink-700 transition-colors duration-200 shadow-md">
                            Comparar Fen√≥menos ‚ú®
                        </button>
                        <div id="comparison-loading-indicator"
                            class="text-center text-pink-700 font-semibold mt-4 hidden">
                            Realizando an√°lisis comparativo... <span class="spinner"></span>
                        </div>
                        <div id="llm-comparison-result"
                            class="mt-6 p-4 bg-white border border-stone-200 rounded-lg min-h-[80px] text-stone-700 italic">
                            El resultado del an√°lisis comparativo aparecer√° aqu√≠.
                        </div>
                    </div>

                    <div class="mt-12 p-6 bg-stone-100 rounded-lg shadow-inner">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">Predictor de Evoluci√≥n de Representaciones ‚ú®
                        </h3>
                        <p class="text-stone-600 mb-4">Ingrese un fen√≥meno social y un factor influyente para predecir
                            c√≥mo su representaci√≥n social podr√≠a evolucionar.</p>
                        <input type="text" id="evolution-phenomenon-input" placeholder="Fen√≥meno social (Ej: 'Privacidad')" class="w-full p-3 border border-stone-300 rounded-lg mb-4 focus:ring-2 focus:ring-teal-400 focus:border-transparent">
                        <input type="text" id="influencing-factor-input" placeholder="Factor influyente (Ej: 'Nuevas leyes de protecci√≥n de datos')" class="w-full p-3 border border-stone-300 rounded-lg mb-4 focus:ring-2 focus:ring-teal-400 focus:border-transparent">
                        <button id="predict-evolution-btn" class="w-full bg-red-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-red-700 transition-colors duration-200 shadow-md">
                            Predecir Evoluci√≥n ‚ú®
                        </button>
                        <div id="evolution-loading-indicator"
                            class="text-center text-red-700 font-semibold mt-4 hidden">
                            Prediciendo evoluci√≥n... <span class="spinner"></span>
                        </div>
                        <div id="llm-evolution-prediction"
                            class="mt-6 p-4 bg-white border border-stone-200 rounded-lg min-h-[80px] text-stone-700 italic">
                            La predicci√≥n de la evoluci√≥n aparecer√° aqu√≠.
                        </div>
                    </div>

                    <div class="mt-12 p-6 bg-stone-100 rounded-lg shadow-inner">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">Predictor de Resistencia al Cambio ‚ú®</h3>
                        <p class="text-stone-600 mb-4">Ingrese una representaci√≥n social y el cambio propuesto para
                            predecir posibles resistencias.</p>
                        <input type="text" id="change-resistance-representation-input" placeholder="Representaci√≥n social (Ej: 'La tecnolog√≠a es fr√≠a')" class="w-full p-3 border border-stone-300 rounded-lg mb-4 focus:ring-2 focus:ring-teal-400 focus:border-transparent">
                        <input type="text" id="proposed-change-input" placeholder="Cambio propuesto (Ej: 'Fomentar una visi√≥n m√°s humana de la IA')" class="w-full p-3 border border-stone-300 rounded-lg mb-4 focus:ring-2 focus:ring-teal-400 focus:border-transparent">
                        <button id="predict-change-resistance-btn" class="w-full bg-blue-800 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-900 transition-colors duration-200 shadow-md">
                            Predecir Resistencia ‚ú®
                        </button>
                        <div id="change-resistance-loading-indicator"
                            class="text-center text-blue-800 font-semibold mt-4 hidden">
                            Prediciendo resistencia... <span class="spinner"></span>
                        </div>
                        <div id="llm-change-resistance-prediction"
                            class="mt-6 p-4 bg-white border border-stone-200 rounded-lg min-h-[80px] text-stone-700 italic">
                            La predicci√≥n de la resistencia aparecer√° aqu√≠.
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('.content-section');
    const diagramCore = document.getElementById('diagram-core');
    const peripheryElements = document.querySelectorAll('[id^="diagram-periphery"]');
    const infoTitle = document.getElementById('info-title');
    const infoText = document.getElementById('info-text');
    const flowSteps = document.querySelectorAll('.flow-step');
    const flowInfoText = document.getElementById('flow-info-text');

    // LLM related elements for Anchoring/Objectification
    const conceptInput = document.getElementById('concept-input');
    const generateAnchoringBtn = document.getElementById('generate-anchoring-btn');
    const generateObjectificationBtn = document.getElementById('generate-objectification-btn');
    const llmLoadingIndicator = document.getElementById('llm-loading-indicator');
    const llmGeneratedExample = document.getElementById('llm-generated-example');

    // LLM related elements for Methodology Suggestion
    const researchQuestionInput = document.getElementById('research-question-input');
    const suggestMethodologyBtn = document.getElementById('suggest-methodology-btn');
    const methodologyLoadingIndicator = document.getElementById('methodology-loading-indicator');
    const llmSuggestedMethodology = document.getElementById('llm-suggested-methodology');

    // LLM related elements for Phenomenon Analyzer
    const phenomenonInput = document.getElementById('phenomenon-input');
    const analyzePhenomenonBtn = document.getElementById('analyze-phenomenon-btn');
    const phenomenonLoadingIndicator = document.getElementById('phenomenon-loading-indicator');
    const llmAnalyzedPhenomenon = document.getElementById('llm-analyzed-phenomenon');

    // LLM related elements for Attitude Analyzer
    const attitudePhenomenonInput = document.getElementById('attitude-phenomenon-input');
    const analyzeAttitudeBtn = document.getElementById('analyze-attitude-btn');
    const attitudeLoadingIndicator = document.getElementById('attitude-loading-indicator');
    const llmAnalyzedAttitude = document.getElementById('llm-analyzed-attitude');

    // LLM related elements for Implication Summary Generator
    const implicationsTextInput = document.getElementById('implications-text-input');
    const summarizeImplicationsBtn = document.getElementById('summarize-implications-btn');
    const implicationsLoadingIndicator = document.getElementById('implications-loading-indicator');
    const llmImplicationsSummary = document.getElementById('llm-implications-summary');

    // LLM related elements for Define Social Phenomenon
    const definePhenomenonInput = document.getElementById('define-phenomenon-input');
    const definePhenomenonBtn = document.getElementById('define-phenomenon-btn');
    const definePhenomenonLoadingIndicator = document.getElementById('define-phenomenon-loading-indicator');
    const llmDefinedPhenomenon = document.getElementById('llm-defined-phenomenon');

    // LLM related elements for Comparative Analysis
    const phenomenon1Input = document.getElementById('phenomenon1-input');
    const phenomenon2Input = document.getElementById('phenomenon2-input');
    const comparePhenomenaBtn = document.getElementById('compare-phenomena-btn');
    const comparisonLoadingIndicator = document.getElementById('comparison-loading-indicator');
    const llmComparisonResult = document.getElementById('llm-comparison-result');

    // LLM related elements for Intervention Suggestions
    const interventionInput = document.getElementById('intervention-input');
    const suggestInterventionBtn = document.getElementById('suggest-intervention-btn');
    const interventionLoadingIndicator = document.getElementById('intervention-loading-indicator');
    const llmInterventionSuggestions = document.getElementById('llm-intervention-suggestions');

    // LLM related elements for Key Concepts Generator
    const keyConceptsPhenomenonInput = document.getElementById('key-concepts-phenomenon-input');
    const generateKeyConceptsBtn = document.getElementById('generate-key-concepts-btn');
    const keyConceptsLoadingIndicator = document.getElementById('key-concepts-loading-indicator');
    const llmGeneratedKeyConcepts = document.getElementById('llm-generated-key-concepts');

    // LLM related elements for Discourse Representation Identifier
    const discourseInput = document.getElementById('discourse-input');
    const identifyRepresentationsBtn = document.getElementById('identify-representations-btn');
    const discourseLoadingIndicator = document.getElementById('discourse-loading-indicator');
    const llmIdentifiedRepresentations = document.getElementById('llm-identified-representations');

    // LLM related elements for Scenario Generator
    const scenarioPhenomenonInput = document.getElementById('scenario-phenomenon-input');
    const generateScenarioBtn = document.getElementById('generate-scenario-btn');
    const scenarioLoadingIndicator = document.getElementById('scenario-loading-indicator');
    const llmGeneratedScenario = document.getElementById('llm-generated-scenario');

    // LLM related elements for Research Question Generator
    const researchQuestionPhenomenonInput = document.getElementById('research-question-phenomenon-input');
    const generateResearchQuestionsBtn = document.getElementById('generate-research-questions-btn');
    const researchQuestionsLoadingIndicator = document.getElementById('research-questions-loading-indicator');
    const llmGeneratedResearchQuestions = document.getElementById('llm-generated-research-questions');

    // LLM related elements for Representation Evolution Predictor
    const evolutionPhenomenonInput = document.getElementById('evolution-phenomenon-input');
    const influencingFactorInput = document.getElementById('influencing-factor-input');
    const predictEvolutionBtn = document.getElementById('predict-evolution-btn');
    const evolutionLoadingIndicator = document.getElementById('evolution-loading-indicator');
    const llmEvolutionPrediction = document.getElementById('llm-evolution-prediction');

    // New LLM related elements for Change Resistance Predictor
    const changeResistanceRepresentationInput = document.getElementById('change-resistance-representation-input');
    const proposedChangeInput = document.getElementById('proposed-change-input');
    const predictChangeResistanceBtn = document.getElementById('predict-change-resistance-btn');
    const changeResistanceLoadingIndicator = document.getElementById('change-resistance-loading-indicator');
    const llmChangeResistancePrediction = document.getElementById('llm-change-resistance-prediction');


    const contentData = {
        core: {
            title: 'N√∫cleo Central',
            text: 'Es el componente m√°s estable y fundamental de la representaci√≥n. Est√° anclado en la memoria colectiva y define el significado esencial del objeto social. Es resistente al cambio y asegura la coherencia del grupo.'
        },
        periphery: {
            title: 'Elementos Perif√©ricos',
            text: 'Son los componentes m√°s flexibles y sensibles al contexto. Permiten la adaptaci√≥n de la representaci√≥n a situaciones espec√≠ficas y variaciones individuales, actuando como un escudo protector del n√∫cleo central.'
        }
    };

    function showSection(targetId) {
        sections.forEach(section => {
            section.classList.remove('active');
            if (section.id === targetId) {
                section.classList.add('active');
            }
        });
        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.dataset.target === targetId) {
                link.classList.add('active');
            }
        });

        if (targetId === 'modelo' && !window.attitudeChartInstance) {
            createAttitudeChart();
        }
        if (targetId === 'metodologia' && !window.methodologyChartInstance) {
            createMethodologyChart();
        }
    }

    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const targetId = e.currentTarget.dataset.target;
            showSection(targetId);
        });
    });

    diagramCore.addEventListener('click', () => {
        infoTitle.textContent = contentData.core.title;
        infoText.textContent = contentData.core.text;
    });

    peripheryElements.forEach(el => {
        el.addEventListener('click', () => {
            infoTitle.textContent = contentData.periphery.title;
            infoText.textContent = contentData.periphery.text;
        });
    });
    
    flowSteps.forEach(step => {
        step.addEventListener('mouseover', () => {
            flowInfoText.textContent = step.dataset.info;
        });
    });

    async function callGeminiAPI(prompt, loadingIndicator, outputElement) {
        loadingIndicator.classList.remove('hidden');
        outputElement.textContent = ""; // Clear previous output

        let chatHistory = [];
        chatHistory.push({ role: "user", parts: [{ text: prompt }] });
        const payload = { contents: chatHistory };
        const apiKey = ""; // Canvas will provide this in runtime
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

        try {
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            const result = await response.json();
            if (result.candidates && result.candidates.length > 0 &&
                result.candidates[0].content && result.candidates[0].content.parts &&
                result.candidates[0].content.parts.length > 0) {
                const text = result.candidates[0].content.parts[0].text;
                outputElement.textContent = text;
            } else {
                outputElement.textContent = "Error: No se pudo generar la respuesta. La respuesta del LLM no tiene el formato esperado.";
            }
        } catch (error) {
            console.error("Error al llamar a la API de Gemini:", error);
            outputElement.textContent = "Error de conexi√≥n. Por favor, intente m√°s tarde.";
        } finally {
            loadingIndicator.classList.add('hidden');
        }
    }

    async function generateExample(type) {
        const concept = conceptInput.value.trim();
        if (!concept) {
            llmGeneratedExample.textContent = "Por favor, ingrese un concepto para generar un ejemplo.";
            return;
        }
        let prompt = "";
        if (type === 'anchoring') {
            prompt = `Genera un ejemplo conciso de c√≥mo el concepto de '${concept}' podr√≠a ser anclado en una representaci√≥n social. Enf√≥cate en la integraci√≥n de lo nuevo con lo familiar.`;
        } else if (type === 'objectification') {
            prompt = `Genera un ejemplo conciso de c√≥mo el concepto de '${concept}' podr√≠a ser objetivado en una representaci√≥n social. Enf√≥cate en transformar lo abstracto en algo concreto o visual.`;
        }
        await callGeminiAPI(prompt, llmLoadingIndicator, llmGeneratedExample);
    }

    async function suggestMethodology() {
        const researchQuestion = researchQuestionInput.value.trim();
        if (!researchQuestion) {
            llmSuggestedMethodology.textContent = "Por favor, ingrese una pregunta de investigaci√≥n para obtener sugerencias.";
            return;
        }
        const prompt = `Dada la siguiente pregunta de investigaci√≥n para el estudio de Representaciones Sociales: "${researchQuestion}", sugiere un enfoque metodol√≥gico (cualitativo, cuantitativo o mixto) y al menos 3 t√©cnicas de recolecci√≥n y 3 de an√°lisis de datos espec√≠ficas que ser√≠an apropiadas. Formatea la respuesta en p√°rrafos claros, explicando brevemente por qu√© cada t√©cnica es relevante.`;
        await callGeminiAPI(prompt, methodologyLoadingIndicator, llmSuggestedMethodology);
    }

    async function analyzePhenomenon() {
        const phenomenon = phenomenonInput.value.trim();
        if (!phenomenon) {
            llmAnalyzedPhenomenon.textContent = "Por favor, ingrese un fen√≥meno social para analizar.";
            return;
        }
        const prompt = `Para el fen√≥meno social '${phenomenon}', describe brevemente c√≥mo podr√≠an ser su n√∫cleo central y sus elementos perif√©ricos dentro de una Representaci√≥n Social. Proporciona un ejemplo para cada uno.`;
        await callGeminiAPI(prompt, phenomenonLoadingIndicator, llmAnalyzedPhenomenon);
    }

    async function analyzeAttitude() {
        const phenomenon = attitudePhenomenonInput.value.trim();
        if (!phenomenon) {
            llmAnalyzedAttitude.textContent = "Por favor, ingrese un fen√≥meno social para analizar la actitud.";
            return;
        }
        const prompt = `Para el fen√≥meno social '${phenomenon}', describe c√≥mo se manifestar√≠an los tres componentes de la actitud (cognitivo, afectivo y conductual) en una Representaci√≥n Social hipot√©tica. S√© conciso y proporciona un ejemplo para cada componente.`;
        await callGeminiAPI(prompt, attitudeLoadingIndicator, llmAnalyzedAttitude);
    }

    async function generateImplicationSummary() {
        const text = implicationsTextInput.value.trim();
        if (!text) {
            llmImplicationsSummary.textContent = "Por favor, ingrese un texto para generar el resumen de implicaciones.";
            return;
        }
        const prompt = `Dado el siguiente texto, resume sus principales implicaciones desde la perspectiva de la teor√≠a de las Representaciones Sociales. Enf√≥cate en c√≥mo el texto podr√≠a reflejar o influir en el pensamiento colectivo, las actitudes o las pr√°cticas sociales. S√© conciso y objetivo:\n\n"${text}"`;
        await callGeminiAPI(prompt, implicationsLoadingIndicator, llmImplicationsSummary);
    }

    async function defineSocialPhenomenon() {
        const phenomenon = definePhenomenonInput.value.trim();
        if (!phenomenon) {
            llmDefinedPhenomenon.textContent = "Por favor, ingrese un fen√≥meno social para definir.";
            return;
        }
        const prompt = `Define el fen√≥meno social '${phenomenon}' desde la perspectiva de la teor√≠a de las Representaciones Sociales. S√© conciso y enf√≥cate en c√≥mo se construir√≠a socialmente o qu√© significado colectivo podr√≠a tener.`;
        await callGeminiAPI(prompt, definePhenomenonLoadingIndicator, llmDefinedPhenomenon);
    }

    async function compareSocialPhenomena() {
        const phenomenon1 = phenomenon1Input.value.trim();
        const phenomenon2 = phenomenon2Input.value.trim();
        if (!phenomenon1 || !phenomenon2) {
            llmComparisonResult.textContent = "Por favor, ingrese ambos fen√≥menos sociales para comparar.";
            return;
        }
        const prompt = `Realiza un an√°lisis comparativo de las Representaciones Sociales para los siguientes dos fen√≥menos: '${phenomenon1}' y '${phenomenon2}'. Destaca sus posibles similitudes y diferencias en c√≥mo podr√≠an ser construidos, entendidos o manifestados colectivamente. S√© conciso y objetivo.`;
        await callGeminiAPI(prompt, comparisonLoadingIndicator, llmComparisonResult);
    }

    async function suggestInterventions() {
        const socialRepresentation = interventionInput.value.trim();
        if (!socialRepresentation) {
            llmInterventionSuggestions.textContent = "Por favor, ingrese una representaci√≥n social o fen√≥meno para sugerir intervenciones.";
            return;
        }
        const prompt = `Dada la representaci√≥n social o fen√≥meno social: '${socialRepresentation}', sugiere al menos 3 intervenciones o aplicaciones pr√°cticas desde la perspectiva de la teor√≠a de las Representaciones Sociales. Enf√≥cate en c√≥mo estas intervenciones podr√≠an buscar modificar la representaci√≥n, influir en actitudes o cambiar comportamientos. S√© conciso y proporciona ejemplos claros.`;
        await callGeminiAPI(prompt, interventionLoadingIndicator, llmInterventionSuggestions);
    }

    async function generateKeyConcepts() {
        const phenomenon = keyConceptsPhenomenonInput.value.trim();
        if (!phenomenon) {
            llmGeneratedKeyConcepts.textContent = "Por favor, ingrese un fen√≥meno social para generar conceptos clave.";
            return;
        }
        const prompt = `Dado el fen√≥meno social '${phenomenon}', genera una lista de 3 a 5 conceptos clave que ser√≠an relevantes para su estudio desde la perspectiva de la teor√≠a de las Representaciones Sociales. S√© conciso y proporciona una breve explicaci√≥n para cada concepto.`;
        await callGeminiAPI(prompt, keyConceptsLoadingIndicator, llmGeneratedKeyConcepts);
    }

    async function identifyRepresentationsInDiscourse() {
        const discourseText = discourseInput.value.trim();
        if (!discourseText) {
            llmIdentifiedRepresentations.textContent = "Por favor, ingrese un texto o discurso para identificar representaciones.";
            return;
        }
        const prompt = `Analiza el siguiente texto o discurso e identifica posibles Representaciones Sociales presentes en √©l. Explica brevemente c√≥mo se manifiestan estas representaciones (por ejemplo, a trav√©s de conceptos clave, met√°foras, im√°genes, etc.). S√© conciso y objetivo:\n\n"${discourseText}"`;
        await callGeminiAPI(prompt, discourseLoadingIndicator, llmIdentifiedRepresentations);
    }

    async function generateSocialScenario() {
        const phenomenon = scenarioPhenomenonInput.value.trim();
        if (!phenomenon) {
            llmGeneratedScenario.textContent = "Por favor, ingrese un fen√≥meno social para generar un escenario.";
            return;
        }
        const prompt = `Genera un breve escenario social (2-3 oraciones) donde la representaci√≥n social de '${phenomenon}' se manifieste claramente en las interacciones o percepciones de los personajes. S√© conciso y utiliza lenguaje claro.`;
        await callGeminiAPI(prompt, scenarioLoadingIndicator, llmGeneratedScenario);
    }

    async function generateResearchQuestions() {
        const phenomenon = researchQuestionPhenomenonInput.value.trim();
        if (!phenomenon) {
            llmGeneratedResearchQuestions.textContent = "Por favor, ingrese un fen√≥meno social para generar preguntas de investigaci√≥n.";
            return;
        }
        const prompt = `Para el fen√≥meno social '${phenomenon}', genera 3 preguntas de investigaci√≥n que podr√≠an ser exploradas utilizando la teor√≠a de las Representaciones Sociales. Las preguntas deben ser espec√≠ficas y enfocarse en la construcci√≥n social, la estructura o las funciones de la representaci√≥n.`;
        await callGeminiAPI(prompt, researchQuestionsLoadingIndicator, llmGeneratedResearchQuestions);
    }

    async function predictRepresentationEvolution() {
        const phenomenon = evolutionPhenomenonInput.value.trim();
        const factor = influencingFactorInput.value.trim();
        if (!phenomenon || !factor) {
            llmEvolutionPrediction.textContent = "Por favor, ingrese tanto el fen√≥meno social como el factor influyente para predecir la evoluci√≥n.";
            return;
        }
        const prompt = `Dado el fen√≥meno social '${phenomenon}' y el factor influyente '${factor}', predice c√≥mo podr√≠a evolucionar la representaci√≥n social de '${phenomenon}'. Considera posibles cambios en su n√∫cleo central, elementos perif√©ricos, actitudes asociadas o pr√°cticas sociales. S√© conciso y objetivo.`;
        await callGeminiAPI(prompt, evolutionLoadingIndicator, llmEvolutionPrediction);
    }

    async function predictChangeResistance() {
        const socialRepresentation = changeResistanceRepresentationInput.value.trim();
        const proposedChange = proposedChangeInput.value.trim();
        if (!socialRepresentation || !proposedChange) {
            llmChangeResistancePrediction.textContent = "Por favor, ingrese la representaci√≥n social y el cambio propuesto.";
            return;
        }
        const prompt = `Dada la representaci√≥n social: '${socialRepresentation}' y el cambio propuesto: '${proposedChange}', predice los posibles desaf√≠os, barreras o resistencias que podr√≠an surgir al intentar implementar este cambio. Enf√≥cate en aspectos relacionados con la estructura de la representaci√≥n, las actitudes o las pr√°cticas sociales. S√© conciso y objetivo.`;
        await callGeminiAPI(prompt, changeResistanceLoadingIndicator, llmChangeResistancePrediction);
    }


    generateAnchoringBtn.addEventListener('click', () => generateExample('anchoring'));
    generateObjectificationBtn.addEventListener('click', () => generateExample('objectification'));
    suggestMethodologyBtn.addEventListener('click', suggestMethodology);
    analyzePhenomenonBtn.addEventListener('click', analyzePhenomenon);
    analyzeAttitudeBtn.addEventListener('click', analyzeAttitude);
    summarizeImplicationsBtn.addEventListener('click', generateImplicationSummary);
    definePhenomenonBtn.addEventListener('click', defineSocialPhenomenon);
    comparePhenomenaBtn.addEventListener('click', compareSocialPhenomena);
    suggestInterventionBtn.addEventListener('click', suggestInterventions);
    generateKeyConceptsBtn.addEventListener('click', generateKeyConcepts);
    identifyRepresentationsBtn.addEventListener('click', identifyRepresentationsInDiscourse);
    generateScenarioBtn.addEventListener('click', generateSocialScenario);
    generateResearchQuestionsBtn.addEventListener('click', generateResearchQuestions);
    predictEvolutionBtn.addEventListener('click', predictRepresentationEvolution);
    predictChangeResistanceBtn.addEventListener('click', predictChangeResistance); // New event listener

    function createAttitudeChart() {
        const ctx = document.getElementById('attitudeChart').getContext('2d');
        window.attitudeChartInstance = new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['Cognitivo (Creencias)', 'Afectivo (Emociones)', 'Conductual (Intenci√≥n)'],
                datasets: [{
                    label: 'Componentes de la Actitud',
                    data: [8, 7, 6],
                    backgroundColor: 'rgba(245, 158, 11, 0.2)',
                    borderColor: 'rgba(245, 158, 11, 1)',
                    borderWidth: 2,
                    pointBackgroundColor: 'rgba(245, 158, 11, 1)',
                    pointBorderColor: '#fff',
                }]
            },
            options: {
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: { display: true },
                        suggestedMin: 0,
                        suggestedMax: 10,
                        ticks: { display: false }
                    }
                },
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.raw;
                            }
                        }
                    }
                }
            }
        });
    }

    function createMethodologyChart() {
        const ctx = document.getElementById('methodologyChart').getContext('2d');
        window.methodologyChartInstance = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Cualitativo', 'Cuantitativo', 'Mixto (Triangulaci√≥n)'],
                datasets: [{
                    label: 'Enfoque Metodol√≥gico',
                    data: [45, 25, 30],
                    backgroundColor: [
                        'rgba(20, 184, 166, 0.7)',
                        'rgba(245, 158, 11, 0.7)',
                        'rgba(107, 114, 128, 0.7)'
                    ],
                    borderColor: [
                        'rgba(20, 184, 166, 1)',
                        'rgba(245, 158, 11, 1)',
                        'rgba(107, 114, 128, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                    },
                    title: {
                        display: false,
                        text: 'Balance Metodol√≥gico Recomendado'
                    }
                }
            }
        });
    }

    showSection('inicio');
});
    </script>
</body>

</html>